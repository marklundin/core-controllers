{"version":3,"sources":["xypad.jsx"],"names":[],"mappings":"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","file":"xypad.js","sourcesContent":["import React from 'react'\nimport NumericStepper from '../NumericStepper'\nimport { map } from 'math'\nimport throttle from 'lodash.throttle'\n\nclass XYPad extends React.Component{\n\n    constructor(){\n        super()\n\n        this.state = {drag:false}\n\n        this.computeXYfromMouseEvent = e => {\n            let bounds = this.domRef.getBoundingClientRect()\n            return {\n                x: map( e.clientX, bounds.left, bounds.right, this.props.xmin, this.props.xmax ),\n                y: map( e.clientY, bounds.top, bounds.bottom, this.props.ymin, this.props.ymax )\n            }\n        }\n\n        this.onMouseDown = throttle( e => {\n            this.setState({drag:true})\n            this.props.onChange( this.computeXYfromMouseEvent( e ))\n        }, 1000/60 )\n\n        this.onMouseMove = e => {\n            this.props.onChange( this.computeXYfromMouseEvent( e ))\n        }\n\n        this.onMouseUp = e => {\n            this.setState({drag:false})\n        }\n    }\n\n    render(){\n\n        let { value, xmin, xmax, ymin, ymax, width, height, label, onChange } = this.props,\n            { x, y } = value,\n            { drag } = this.state\n\n        let xVis = map( x, xmin, xmax, 0, width ),\n            yVis = map( y, ymin, ymax, 0, height )\n\n\n        return <div>\n            <label>{ label }</label>\n            <NumericStepper value={Math.round(x)} onChange={ value => onChange({ x:value, y })}/>\n            <NumericStepper value={Math.round(y)} onChange={ value => onChange({ y:value, x })}/>\n            <svg width={width} height={height} viewBox={\"0 0 \"+width+\" \"+height} xmlns=\"http://www.w3.org/2000/svg\"\n                ref={ref => this.domRef = ref}\n                onMouseDown={ this.onMouseDown}\n                onMouseMove={ drag ? this.onMouseMove : null }\n                onMouseUp={ this.onMouseUp }>\n\n                <rect fill='none' stroke='black' strokeWidth='1' width={width} height={height} />\n                <line x1={xVis} x2={xVis} y1={0} y2={height} stroke='black' strokeWidth={1}/>\n                <line x1={0} x2={width} y1={yVis} y2={yVis} stroke='black' strokeWidth={1} />\n                <circle r={2} cx={xVis} cy={yVis} />\n\n            </svg>\n        </div>\n    }\n}\n\nXYPad.propTypes = {\n\n    width: React.PropTypes.number,\n    height: React.PropTypes.number,\n    value: React.PropTypes.shape({ x: React.PropTypes.number.isRequired, y: React.PropTypes.number.isRequired }),\n    xmin: React.PropTypes.number,\n    xmax: React.PropTypes.number,\n    ymin: React.PropTypes.number,\n    ymax: React.PropTypes.number\n}\n\nXYPad.defaultProps = {\n\n    width: 400,\n\n    height: 300,\n\n    value: { x: 200, y : 150 },\n\n    ymin: 0, ymax: 600,\n\n    xmin: 0, xmax: 800,\n\n}\n\nexport default XYPad\n"]}